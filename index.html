<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dialogdemokratie</title>
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Staatliches&display=swap');
    </style>

    <link rel="stylesheet" href="styles.css" />
    
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark">
        <a class="navbar-brand" href="#">Dialog Demokratie</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <a class="nav-link" href="#home">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#map">Karte</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#aktionsanleitung">Aktionsanleitung</a>
                </li>
            </ul>
        </div>
    </nav>
    <div class="container content">
        <section id="home" class="my-5">
            <h2>Willkommen bei Dialog Demokratie</h2>
            <p>Wir von Dialog Demokratie möchten ein Gegenpol zur rechten Hetze der AfD sein und haben uns zur Aufgabe gemacht vor den Landtagswahlen im September 2024 noch möglichst viel Aufklärung zu betreiben.</p>
        </section>
        <section id="map-section" class="my-5">
            <h2>Interaktive Karte</h2>
            <p>Finde Aktivisten in deiner Nähe und werde Teil der Bewegung.</p>
            <div class="row">
                <div class="col-md-3 sidebar-wrapper">
                    <div class="sidebar">
                        <ul id="marker-list" class="list-group">
                            <!-- Dynamische Einträge werden hier hinzugefügt -->
                        </ul>
                    </div>
                </div>
                <div class="col-md-9 map-wraper">
                    <!-- Karte wird hier hinzugefügt -->
                    <div id="map" class="map-container"></div>
                </div>
            </div>
        </section>
        <section id="aktionsanleitung" class="my-5">
            <h2>Aktionsanleitung</h2>
            <p>Jeder ist dazu aufgerufen sich für die Demokratie und gegen Rechtsextremismus einzusetzen. In unserer Aktionsanleitung zeigen wir dir, was du konkret tun kannst. Als eines der effektivsten Mittel sehen wir es Flyer zu verteilen.</p>
            <a href="/aktionsanleitung/" class="btn">Aktionsanleitung herunterladen</a>
        </section>
    </div>
    <!-- jQuery, Popper.js, and Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>
        // Initialisiere die Karte
        var map = L.map('map').setView([51.1657, 10.4515], 6);

        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // // Beispielmarkierungen
        // var markers = [
        //     { lat: 51.5, lng: -0.09, popup: 'Aktivist 1 <br> <i>in London</i>', id: '1' },
        //     { lat: 48.8566, lng: 2.3522, popup: 'Aktivist 2 <br> <i>in Paris</i>', id: '2' },
        //     { lat: 52.5200, lng: 13.4050, popup: 'Aktivist 4 <br> <i>in Berlin</i>', id: '4' },
        //     { lat: 48.1351, lng: 11.5820, popup: 'Aktivist 5 <br> <i>in München</i>', id: '5' },
        //     { lat: 50.9375, lng: 6.9603, popup: 'Aktivist 6 <br> <i>in Köln</i>', id: '6' },
        //     { lat: 53.5511, lng: 9.9937, popup: 'Aktivist 7 <br> <i>in Hamburg</i>', id: '7' },
        //     { lat: 51.2277, lng: 6.7735, popup: 'Aktivist 8 <br> <i>in Düsseldorf</i>', id: '8' },
        //     { lat: 50.1109, lng: 8.6821, popup: 'Aktivist 9 <br> <i>in Frankfurt</i>', id: '9' }
        // ];

        var markers = [
            // Heilbad Heiligenstadt
            { lat: 51.3833, lng: 10.1333, popup: 'Aktivist 1 <br> <i>in Heilbad Heiligenstadt</i>', id: '1' },
            // Münster
            { lat: 51.9625, lng: 7.6255, popup: 'Aktivist 2 <br> <i>in Münster</i>', id: '2' },
        ]



        // Füge Markierungen zur Karte und zum Seitenmenü hinzu
        markers.forEach(function(marker) {
            var mark = L.marker([marker.lat, marker.lng]).addTo(map)
                .bindPopup(marker.popup);
            var listItem = document.createElement('li');
            listItem.className = 'list-group-item';
            listItem.innerHTML = marker.popup;
            listItem.addEventListener('click', function() {
                map.setView([marker.lat, marker.lng], 13);
                mark.openPopup();
            });
            document.getElementById('marker-list').appendChild(listItem);
        });
    </script>
</body>
</html>